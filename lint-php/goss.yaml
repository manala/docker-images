############
# Packages #
############

package:
  # Make
  make:
    installed: true
    versions:
      - 4.1-r1
  # Git
  git:
    installed: true
    versions:
      - 2.8.3-r0

############
# Commands #
############

command:
  # Php
  php --version:
    exit-status: 0
    stdout:
      - PHP {{ .Env.PHP_VERSION }}
  # Composer
  composer --version:
    exit-status: 0
    stdout:
      - Composer version {{ .Env.COMPOSER_VERSION }}
  # Npm packages
  COMPOSER_HOME=/usr/local/share/composer composer global info --direct:
    exit-status: 0
    stdout:
      - /friendsofphp/php-cs-fixer\s+v{{ .Env.PHP_CS_FIXER_VERSION }}/
      - /phpstan/phpstan\s+{{ .Env.PHPSTAN_VERSION }}/
      - /jakub-onderka/php-parallel-lint\s+v{{ .Env.PHP_PARALLEL_LINT_VERSION }}/
      - /sensiolabs/security-checker\s+v{{ .Env.SECURITY_CHECKER_VERSION }}/

##########
# Groups #
##########

group:
  # Lint
  lint:
    exists: true

#########
# Users #
#########

user:
  # Lint
  lint:
    exists: true
    groups:
      - lint
    home: /home/lint
    shell: "/bin/sh"
